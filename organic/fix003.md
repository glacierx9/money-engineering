# Fix 003

## Tolerate the syntax issues


When the visualization is running as the interactive mode, the main entry will be called like:

```python
await main()
```

this will cause the complain of the linter, please ignore it. The good way to implement visualization for both compatible to regular and interactive mode is:

```python
try:
    asyncio.run(main())
except:
    await main()
```

## time_tag handling

The standard StructValue's time_tag returned with the svr3.reader will be in the format of ms since epoch.

- Don't directly convert this to datetime as the $time column of the pandas df, this will cause weekend and non-trading hour be included
- Use the sequence of the frame as x-axis but use the converted datetime to draw the axis mark



### Tier 1/2 strategy

We will define the time span into 3 categories: 

1. Training
2. Validating
3. Testing

For all time range [x,y], we will use 

1. [x, 0.7*(y-x) + x] as the range for training
2. [x1, x1+0.2*(y-x)] as the range for validating
3. [x2, y] as the range for testing

- NxM grid of time-series data plot: the basic fields for the strategy should be used to plot a NxM diagram to demonstrate the past X frames of data as of the time T(can be chosen abitrarily)

- Statistic Metrics: we will use the pv to calculate the basic set of metrics(don't need to be stationary) over all 3 periods(training, validating, testing), to plot the results for each of them using time series manner and a table-like format to compare the results of the same metric over all three period respectively

These two are essential for the tier 2 strategy performance demonstration. For the metrics, please keep in mind I want to use it to compare with the tier 1 analysis to verify the correctness of the tier 1 indicators result.

